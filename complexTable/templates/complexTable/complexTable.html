{% load staticfiles %}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Home - LigMol</title>
    <meta name="description" content="A simple complex database">
    <link rel="stylesheet" href="{% static 'complexTable/bootstrap/bootstrap.min.css' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'complexTable/img/favicon.ico' %}"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cabin:700">
    <link rel="stylesheet" href="{% static 'complexTable/fonts/font-awesome.min.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'complexTable/custom.css' %}">
    <script src="{% static 'complexTable/js/sorttable.js' %}"></script>
</head>

<body id="page-top">
    <nav class="navbar navbar-light navbar-expand-md navbar navbar-expand-lg fixed-top" id="mainNav" style="background-color: #829eaa;">
        <div class="container"><a class="navbar-brand js-scroll-trigger" href="{% url 'complexTable:index' %}">LigMol</a><button class="navbar-toggler navbar-toggler-right" data-toggle="collapse" data-target="#navbarResponsive" type="button" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"
                value="Menu"><i class="fa fa-bars"></i></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item nav-link js-scroll-trigger pointer" role="presentation"><a class="nav-link js-scroll-trigger" onclick="location.href='{% url 'complexTable:index' %}' + '#home'">Home</a></li>
                    <li class="nav-item nav-link js-scroll-trigger pointer" role="presentation"><a class="nav-link js-scroll-trigger" onclick="location.href='{% url 'complexTable:index' %}' + '#about'">About</a></li>
                    <li class="nav-item nav-link js-scroll-trigger pointer" role="presentation"><a class="nav-link js-scroll-trigger" onclick="location.href='{% url 'complexTable:index' %}' + '#contact'">contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <section id="complexTable" >
        <div style='margin-top:90;'></div>
        <br/>
        <div class="container">
                <h2>Compounds</h2>
                <p>Type something in the input field to filter the table:</p>  
                <input class="form-control" id="tableSearch" type="text" placeholder="Search..">
        </div>
        <br/>
        <div style="width: 90%; display: inline-block ;">
            <div class="table-responsive">
                <form id='downForm' onsubmit="return checkChecks(event)" action="downloadFiles" method="post">
                    {% csrf_token %}
                    <table id='compoundTable' class="table table-striped table-hover container-fluid sortable" valign="center" style="width:65%; height:70%; text-align:center;">
                        <thead>
                            <tr>
                                <th scope="col" valign="center"><input valign="center" style="margin-left: 12px;" type="checkbox" name="checkAll" id="select_all" onClick=""></th>
                                {% for key in keys %}
                                <!-- <th scope="col"valign="center" >{% if key == '' %} # {% else %}{{ key }}{% endif %}</th> -->
                                <th scope="col"valign="center" >{{ key }}</th>

                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody id='compoundBody'>
                            {% for bigID, orderDict in table.items %}
                                <tr class='limitedHeight' onclick="showMeDetails({{ bigID }})">
                                    <td class='center' valign="center"'>
                                        <input valign="center" class="form-check-input" style="margin-left: 0px;" type="checkbox" name="choices" id="choicesID" value="{{ bigID }}">
                                    </td>
                                    {% for key, val in orderDict.items %}
                                    <td class="clickable" style="cursor: pointer"; valign="center">{{ val }}</td>
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <script>
                        function showMeDetails(bigid){
                            window.onclick = function(e) {
                                if(e.srcElement.className == "clickable")
                                {
                                    window.location.href = "{% url 'complexTable:detailedInfo' %}?id=" + bigid;
                                }
                            }
                        }
                    </script>
                </form>
            </div>
        </div>
        <div style="display: inline-block; top: 250px; right: 100px; position: fixed; padding-top: 80px;">
            <input value="Download checked items" type="submit" form='downForm' class="btn" />
        </div>
    </section>
    
    <footer>
        <div class="container text-center">
            <p>Copyright Â©&nbsp;LigMol 2018</p>
        </div>
    </footer>
    <script src="{% static 'complexTable/js/jquery.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src="{% static 'complexTable/js/grayscale.js' %}"></script>
    <script src="{% static 'complexTable/js/ligmol.js' %}"></script>
</body>
</html>